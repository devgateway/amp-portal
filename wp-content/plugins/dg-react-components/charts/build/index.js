!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=36)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.editor},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(26),l=n(27),r=n(28),a=n(29);e.exports=function(e){return o(e)||l(e)||r(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.React},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(23);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(24).default,l=n(25);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(30);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(31).default,l=n(4);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(32),l=n(33),r=n(34),a=n(35);e.exports=function(e){return o(e)||l(e)||r(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,o)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(9);e.exports=function(e){if(Array.isArray(e))return o(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(9);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,o)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(11);e.exports=function(e){if(Array.isArray(e))return o(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(11);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);var o=n(2),l=n(12),r=n(0),a=n(3),c=n(5),u=n(13),i=n.n(u),s=n(14),p=n.n(s),d=n(15),b=n.n(d),f=n(16),m=n.n(f),g=n(17),y=n.n(g),h=n(6),_=n.n(h),O=n(1);n(7),n(18),n(19),n(4),n(20),n(21),n(8);var x=function(e){var t=e.height,n=e.setAttributes,l=e.initialOpen;return Object(r.createElement)(O.PanelBody,{initialOpen:l,title:Object(o.__)("Size")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.TextControl,{size:10,label:"Height",value:t,onChange:function(e){return n({height:e?parseInt(e):0})}})))},j=(r.Component,n(10),function(e){e.app,e.height;var t=e.topChartType,n=e.topChartColumnCount,l=e.setAttributes;return e.initialOpen,Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("Top charts configuration")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.SelectControl,{label:Object(o.__)("Top Chart Type"),value:[t],onChange:function(e){l({topChartType:e})},options:[{value:"do",label:"Donor Agency"},{value:"ro",label:"Responsible Organization"},{value:"ba",label:"Beneficiary Agency"},{value:"ia",label:"Implementing Agency"},{value:"ea",label:"Executing Agency"},{value:"re",label:"Administrative Level 1"},{value:"ps",label:"Primary Sector"},{value:"dg",label:"Donor Group"}]})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.SelectControl,{label:Object(o.__)("Top Chart Column count"),value:[n],onChange:function(e){l({topChartColumnCount:e})},options:[{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"}]})))}),v=n(22),C=n.n(v),E=function(e){e.app;var t=e.fundingType,n=e.setAttributes,l=e.keys,a=e.yearFilter,c=function(e){l.indexOf(e)>-1?n({keys:l.filter((function(t){return t!=e}))}):n({keys:[].concat(C()(l),[e])})};return Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("Funding Configuration")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.SelectControl,{label:Object(o.__)("fundingType"),value:[t],onChange:function(e){n({fundingType:e})},options:[{value:"ftype",label:"Funding Type"},{value:"finstrument",label:"Financing Instrument"}]})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.CheckboxControl,{label:Object(o.__)("Official Consumption"),checked:l.indexOf("consumption")>-1,onChange:function(e){return c("consumption")}})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.CheckboxControl,{label:Object(o.__)("Total Consumption"),checked:l.indexOf("total")>-1,onChange:function(e){return c("total")}})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.CheckboxControl,{label:Object(o.__)("Excise rate"),checked:l.indexOf("rate")>-1,onChange:function(e){return c("rate")}})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.CheckboxControl,{label:Object(o.__)("Retail Price"),checked:l.indexOf("price")>-1,onChange:function(e){return c("price")}})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.TextControl,{label:Object(o.__)("Year Filter"),value:a,onChange:function(e){return n({yearFilter:e})}})))};var w=function(e){m()(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=_()(t);if(n){var l=_()(this).constructor;e=Reflect.construct(o,arguments,l)}else e=o.apply(this,arguments);return y()(this,e)});function u(e){var t;return p()(this,u),(t=l.call(this,e)).colors=[{value:"nivo",label:"nivo"},{value:"category10",label:"category10"},{value:"accent",label:"None"},{value:"dark2",label:"dark2"},{value:"paired",label:"paired"},{value:"pastel1",label:"pastel1"},{value:"pastel2",label:"pastel2"},{value:"set1",label:"set1"},{value:"set2",label:"set2"},{value:"set3",label:"set3"},{value:"blues",label:"blues"},{value:"greens",label:"greens"},{value:"greys",label:"greys"},{value:"oranges",label:"oranges"},{value:"purples",label:"purples"},{value:"reds",label:"reds"},{value:"blue_green",label:"blue_green"},{value:"blue_purple",label:"blue_purple"},{value:"green_blue",label:"green_blue"},{value:"orange_red",label:"orange_red"},{value:"purple_blue_green",label:"purple_blue_green"},{value:"purple_blue",label:"purple_blue"},{value:"purple_red",label:"purple_red"},{value:"red_purple",label:"red_purple"},{value:"yellow_green_blue",label:"yellow_green_blue"},{value:"yellow_green",label:"yellow_green"},{value:"yellow_orange_brown",label:"yellow_orange_brown"},{value:"yellow_orange_red",label:"yellow_orange_brown"},{value:"amp_dashboards",label:"amp_dashboards"}],t.measures=[{value:"Actual Commitments",label:"Actual Commitments"},{value:"Actual Disbursements",label:"Actual Disbursements"},{value:"Actual Expenditures",label:"Actual Expenditures"}],t}return b()(u,[{key:"componentDidUpdate",value:function(e,t,n){var o=this.props;o.setAttributes,i()(o.attributes),e.attributes}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.setAttributes,e.isSelected,e.attributes);t.height,t.type,t.source,t.bottom,t.left,t.scheme,t.colorBy}},{key:"onSelect",value:function(){}},{key:"render",value:function(){var e=this.props,t=(e.className,e.isSelected),n=e.toggleSelection,l=e.setAttributes,u=e.attributes,i=u.height,s=u.type,p=u.groupMode,d=u.bottomLegend,b=u.leftLegend,f=u.scheme,m=u.colorBy,g=u.topChartType,y=u.topChartColumnCount,h=u.fundingType,_=u.mode,v=u.dualMode,C=u.toggleInfoLabel,w=u.toggleChartLabel,P=u.chartTitle,S=u.dataSource,M=u.showLegends,R=u.legendPosition,T=u.legendsWidth,k=u.app,L=u.measure,A=u.dateFrom,B=u.dateTo,I=u.keys,F=u.tickColor,D=u.tickRotation,z=u.formatStyle,N=u.decimalPoints,U=u.currency,G=u.yearFilter,V=("top"==k?[g,y]:[h]).filter((function(e){return"none"!=e&&null!=e})).join("/"),H={};if(null!=G&&""!==G.trim()&&"policy"===k){var W=G.split(",").map((function(e){return parseInt(e)}));H.year=W}var J="data-editing=true&data-style=".concat(z,"&data-decimals=").concat(N,"&data-currency=").concat(U,"&data-params=").concat(encodeURIComponent(JSON.stringify(H))).concat(null!=F?"&data-tick-color=".concat(F):"","&data-tick-rotation=").concat(D,"&data-keys=").concat(I.join(","),"&data-app=").concat(k,"&data-height=").concat(i,"&data-chart-type=").concat(s,"&data-source=").concat(V,"&data-color-by=").concat(m,"&data-color-scheme=").concat(f,"&data-group-mode=").concat(p,"&data-legends-left=").concat(b,"&data-legends-bottom=").concat(d,"&data-dualmode=").concat(v,"&editing=true&data-legend-position=").concat(R,"&data-edit-mode=").concat(_,"&data-legends-width=").concat(T,"&data-show-legends=").concat(M,"&data-toggle-info-label=").concat(C,"&data-toggle-chart-label=").concat(w,"&data-chart-title=").concat(P,"&data-chart-data-source=").concat(S);J+="&data-chart-measure=".concat(L,"&data-chart-date-from=").concat(A,"&data-chart-date-to=").concat(B);var Y={height:i-85+"px",width:"100%"};return[t&&Object(r.createElement)(a.InspectorControls,null,Object(r.createElement)(O.Panel,{header:Object(o.__)("Chart Configuration")},Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("Info Graphic")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.ToggleControl,{label:"Use Infographic",checked:v,onChange:function(e){return l({dualMode:e,mode:"chart"})}}))),v&&Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("View Mode")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.ToggleControl,{label:"Infographic",checked:"info"==_,onChange:function(){return l({mode:"chart"==_?"info":"chart"})}}))),v&&Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("Toggle Labels")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.TextControl,{label:Object(o.__)("Toggle Info Graphic Label"),value:C,onChange:function(e){return l({toggleInfoLabel:e})}})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.TextControl,{label:Object(o.__)("Toggle Chart Label"),value:w,onChange:function(e){return l({toggleChartLabel:e})}}))),Object(r.createElement)(x,{initialOpen:!1,setAttributes:l,height:i}),Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("API & Source")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.SelectControl,{value:[k],onChange:function(e){l({app:e})},options:[{label:"Top",value:"top"},{label:"Funding",value:"funding"},{label:"Donor scorecard",value:"donorScoreCard"},{label:"Top List",value:"topList"},{label:"Login",value:"login"}]})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.SelectControl,{label:Object(o.__)("Funding measure"),value:[L],onChange:function(e){l({measure:e})},options:this.measures})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.RangeControl,{label:Object(o.__)("Date from"),value:A,onChange:function(e){return l({dateFrom:e})},min:2e3,max:2030})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.RangeControl,{label:Object(o.__)("Date To"),value:B,onChange:function(e){return l({dateTo:e})},min:2e3,max:2030}))),"top"==k&&Object(r.createElement)(j,{setAttributes:l,topChartType:g,topChartColumnCount:y}),"funding"==k&&Object(r.createElement)(E,{yearFilter:G,keys:I,setAttributes:l,fundingType:h}),Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("Chart Type")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.SelectControl,{label:Object(o.__)("Type"),value:[s],onChange:function(e){l({type:e})},options:[{label:"Bar",value:"bar"},{label:"Half Pie",value:"halfPie"},{label:"Line",value:"line"}]})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.SelectControl,{label:Object(o.__)("Group Mode"),value:[p],onChange:function(e){l({groupMode:e})},options:[{label:"Stacked",value:"stacked"},{label:"Grouped",value:"grouped"}]}))),Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("Colors")},"line"!=s&&Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.SelectControl,{label:Object(o.__)("Color By"),value:[m],onChange:function(e){l({colorBy:e})},options:[{label:"Index",value:"index"},{label:"Keys",value:"id"}]})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.SelectControl,{label:Object(o.__)("Color Scheme"),value:[f],onChange:function(e){l({scheme:e})},options:this.colors}))),Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("Format")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.SelectControl,{label:Object(o.__)("Style"),value:[z],onChange:function(e){l({formatStyle:e})},options:[{label:"Decimal",value:"decimal"},{label:"Currency",value:"currency"},{label:"Percent",value:"percent"}]})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.TextControl,{label:Object(o.__)("Decimal Points"),onChange:function(e){return l({decimalPoints:e})},value:N})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.TextControl,{label:Object(o.__)("Currency"),onChange:function(e){return l({currency:e})},value:U}))),Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("Legends")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.ToggleControl,{label:Object(o.__)("Show Legends"),checked:M,onChange:function(){return l({showLegends:!M})}})),M&&Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.ButtonGroup,null,Object(r.createElement)(O.Button,{isPrimary:"left"==R,isSecondary:"left"!=R,onClick:function(e){return l({legendPosition:"left"})}},"Left"),Object(r.createElement)(O.Button,{isPrimary:"right"==R,isSecondary:"right"!=R,onClick:function(e){return l({legendPosition:"right"})}},"Right"),Object(r.createElement)(O.Button,{isPrimary:"bottom"==R,isSecondary:"bottom"!=R,onClick:function(e){return l({legendPosition:"bottom"})}},"Bottom"))),M&&Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.RangeControl,{label:Object(o.__)("Legends Width"),value:T,onChange:function(e){return l({legendsWidth:e})},min:1,max:500}))),Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:"Tick Config"},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.AnglePickerControl,{value:D,onChange:function(e){return l({tickRotation:e})}})),("id"==m||"line"==s)&&Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(a.PanelColorSettings,{title:Object(o.__)("Color settings"),colorSettings:[{value:decodeURIComponent(F),onChange:function(e){l(e?{tickColor:encodeURIComponent(e)}:{tickColor:null})},label:Object(o.__)("Tick color")}]}))),Object(r.createElement)(O.PanelBody,{initialOpen:!1,title:Object(o.__)("Labels")},Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.TextControl,{label:Object(o.__)("Y Axis Label"),value:b,onChange:function(e){return l({leftLegend:e})}})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.TextControl,{label:Object(o.__)("X axis Label"),value:d,onChange:function(e){return l({bottomLegend:e})}})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.TextControl,{label:Object(o.__)("Chart title"),value:P,onChange:function(e){return l({chartTitle:e})}})),Object(r.createElement)(O.PanelRow,null,Object(r.createElement)(O.TextControl,{label:Object(o.__)("DataSource"),value:S,onChange:function(e){return l({dataSource:e})}}))))),Object(r.createElement)(O.ResizableBox,{size:{height:i},style:{margin:"auto",width:"100%"},minHeight:"50",minWidth:"50",enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},onResizeStop:function(e,t,o,r){l({height:parseInt(i+r.height,10)}),n(!0)},onResizeStart:function(){n(!1)}},Object(r.createElement)("div",{className:"chart container",style:Y},"chart"==_&&Object(r.createElement)("iframe",{scrolling:"no",style:Y,src:"https://wordpress-za.tobacco.dgstg.org/#/en/embeddable/chart?"+J}),"info"==_&&Object(r.createElement)("div",null,Object(r.createElement)(c.InnerBlocks,null))))]}}]),u}(r.Component);Object(l.registerBlockType)("dg-components/chart",{title:Object(o.__)("Dg Data Chart","dg-components"),icon:function(){return Object(r.createElement)(O.Icon,{icon:function(){return Object(r.createElement)("svg",{version:"1.1",viewBox:"0 0 18.777 18.777"},Object(r.createElement)("g",null,Object(r.createElement)("g",null,Object(r.createElement)("path",{style:{fill:"#030104;"},d:"M2.245,10.496H0.272C0.122,10.496,0,10.62,0,10.77v5.717c0,0.15,0.122,0.272,0.272,0.272h1.973 c0.15,0,0.272-0.122,0.272-0.272V10.77C2.518,10.62,2.396,10.496,2.245,10.496z"}),Object(r.createElement)("path",{style:{fill:"#030104;"},d:"M18.504,10.496h-1.973c-0.15,0-0.271,0.124-0.271,0.274v5.717c0,0.15,0.121,0.272,0.271,0.272 h1.973c0.152,0,0.273-0.122,0.273-0.272V10.77C18.777,10.62,18.656,10.496,18.504,10.496z"}),Object(r.createElement)("path",{style:{fill:"#030104;"},d:"M5.907,7.228H3.934c-0.15,0-0.273,0.122-0.273,0.273v8.984c0,0.15,0.123,0.272,0.273,0.272h1.973 c0.151,0,0.273-0.122,0.273-0.272V7.501C6.18,7.349,6.058,7.228,5.907,7.228z"}),Object(r.createElement)("path",{style:{fill:"#030104;"},d:"M14.271,7.228h-1.973c-0.15,0-0.271,0.122-0.271,0.273v8.984c0,0.15,0.121,0.272,0.271,0.272h1.973 c0.152,0,0.273-0.122,0.273-0.272V7.501C14.545,7.349,14.424,7.228,14.271,7.228z"}),Object(r.createElement)("path",{style:{fill:"#030104;"},d:"M10.01,9.218H8.036c-0.15,0-0.272,0.123-0.272,0.272v6.994c0,0.15,0.122,0.272,0.272,0.272h1.974 c0.152,0,0.273-0.122,0.273-0.272V9.49C10.283,9.341,10.162,9.218,10.01,9.218z"}),Object(r.createElement)("path",{style:{fill:"#030104;"},d:"M1.259,6.947c0.581,0,1.051-0.47,1.051-1.051c0-0.101-0.019-0.196-0.046-0.288l2.211-1.591 c0.136,0.064,0.286,0.102,0.446,0.102c0.309,0,0.583-0.135,0.776-0.347L7.784,4.98c-0.012,0.062-0.02,0.126-0.02,0.19 c0,0.58,0.471,1.051,1.051,1.051c0.559,0,1.012-0.438,1.044-0.989l2.814-0.823c0.191,0.262,0.498,0.435,0.848,0.435 c0.232,0,0.443-0.077,0.617-0.205l2.365,1.604c-0.02,0.083-0.037,0.17-0.037,0.26c0,0.581,0.471,1.052,1.051,1.052 s1.053-0.471,1.053-1.052s-0.473-1.051-1.053-1.051c-0.232,0-0.443,0.077-0.617,0.204l-2.363-1.601 c0.02-0.084,0.035-0.17,0.035-0.26c0-0.581-0.469-1.051-1.051-1.051c-0.559,0-1.012,0.438-1.045,0.989L9.663,4.555 C9.472,4.292,9.164,4.12,8.815,4.12c-0.259,0-0.492,0.096-0.675,0.251L5.968,3.112c0-0.015,0.004-0.028,0.004-0.042 c0-0.581-0.47-1.052-1.051-1.052S3.87,2.488,3.87,3.069c0,0.158,0.038,0.306,0.1,0.441L1.855,5.032 C1.686,4.914,1.481,4.845,1.259,4.845c-0.581,0-1.051,0.471-1.051,1.051C0.208,6.477,0.678,6.947,1.259,6.947z"}))))}})},category:"react-blocks",apiVersion:2,attributes:{height:{type:"number",default:500},type:{type:"string",default:"bar"},source:{type:"string",default:"do/5"},bottomLegend:{type:"string",default:"Bottom Legends"},leftLegend:{type:"string",default:"Left Legends"},scheme:{type:"string",default:"nivo"},colorBy:{type:"String",default:"index"},topChartType:{type:"String",default:"do"},topChartColumnCount:{type:"String",default:"5"},fundingType:{type:"String",default:"ftype"},groupMode:{type:"String",default:"grouped"},mode:{type:"String",default:"chart"},dualMode:{type:"Boolean",default:!1},toggleInfoLabel:{type:"String",default:"Info Graphic"},toggleChartLabel:{type:"String",default:"Chart"},chartTitle:{type:"String",default:"Chart title"},dataSource:{type:"String",default:"NIDS"},legendPosition:{type:"String",default:"right"},legendsWidth:{type:"mumeric",default:100},showLegends:{type:"boolean",default:!0},app:{type:"String",default:"top"},measure:{type:"String",default:"Actual Commitments"},params:{type:Object,default:{}},format:{type:Object,default:{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1}},tickRotation:{type:"mumeric",default:0},tickColor:{type:"String",default:"rgb(0,0,0)"},keys:{type:"Array",default:[]},formatStyle:{type:"String",default:"Percent"},decimalPoints:{type:"Numeric",default:2},currency:{type:"String",default:""},yearFilter:{type:"String",default:""},dateFrom:{type:"numeric",default:2010},dateTo:{type:"numeric",default:2030}},edit:function(e){var t=Object(a.useBlockProps)();return Object(r.createElement)("div",t,Object(r.createElement)(w,e))},save:function(e){e.toggleSelection,e.setAttributes;var t=e.attributes,n=t.height,o=(t.width,t.type),l=t.groupMode,u=t.bottomLegend,i=t.leftLegend,s=t.scheme,p=t.colorBy,d=t.fundingType,b=t.topChartType,f=t.topChartColumnCount,m=t.dualMode,g=t.toggleInfoLabel,y=t.toggleChartLabel,h=t.chartTitle,_=t.dataSource,O=t.legendPosition,x=t.legendsWidth,j=t.showLegends,v=t.app,C=t.keys,E=t.tickColor,w=t.tickRotation,P=t.formatStyle,S=t.decimalPoints,M=t.currency,R=t.yearFilter,T=t.measure,k=t.dateFrom,L=t.dateTo,A=(a.useBlockProps.save({className:"tcdi component chart"}),("top"==v?[b,f]:[d]).filter((function(e){return"none"!=e&&null!=e})).join("/")),B={};if(null!=R&&""!==R.trim()&&"policy"===v){var I=R.split(",").map((function(e){return parseInt(e)}));B.year=I}return Object(r.createElement)("div",{className:"tcdi-component","data-component":"chart","data-height":n,"data-chart-type":o,"data-source":A,"data-color-by":p,"data-color-scheme":s,"data-scheme":s,"data-group-mode":l,"data-legends-left":i,"data-dualMode":m,"data-legends-bottom":u,"data-toggle-info-label":g,"data-toggle-chart-label":y,"data-chart-title":h,"data-chart-data-source":_,"data-legends-width":x,"data-show-legends":j,"data-legend-position":O,"data-app":v,"data-tick-rotation":w,"data-tick-color":E,"data-keys":C.join(","),"data-style":P,"data-decimals":S,"data-currency":M,"data-params":encodeURIComponent(JSON.stringify(B)),"data-chart-measure":T,"data-chart-date-from":k,"data-chart-date-to":L},Object(r.createElement)(c.InnerBlocks.Content,null))}})}]);